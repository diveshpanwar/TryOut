# TryOut
## This file contains the solutions to the sql hands on mock
 SELECT SUBSTR(EMPLOYEEID,2) "EMPLOYEEID", EMPLOYEENAME
 FROM EMPLOYEE
 WHERE COMPANY
 IN ('Datasys','Wipron');
 
 SELECT LOCATION, COUNT(CABINID) FROM CABIN GROUP BY LOCATION;
 
 SELECT C.CABINID, C.LOCATION
 FROM
 CABIN C
 LEFT OUTER JOIN
 ALLOCATION A
 ON
 A.CABINID = C.CABINID
 WHERE
 A.ALLOCATIONID IS NULL;
 
 
 SELECT DISTINCT E.EMPLOYEEID, E.EMPLOYEENAME
 FROM
 ALLOCATION A
 INNER JOIN
 EMPLOYEE E
 ON
 E.EMPLOYEEID = A.EMPLOYEEID
 WHERE A.NOOFDAYS > 10;
 
 
 SELECT ALLOCATIONID
 FROM ALLOCATION
 WHERE CHARGE > (
 					SELECT AVG(CHARGE) 
 					FROM ALLOCATION
 				);
 				
 				
SELECT COMPANY, COUNT(EMPLOYEEID)
FROM EMPLOYEE
WHERE EMPLOYEEID
IN (
		SELECT DISTINCT EMPLOYEEID
		FROM ALLOCATION
	)
GROUP BY COMPANY;


SELECT CABINID, LOCATION
FROM CABIN
WHERE CABINID IN (
					SELECT CABINID
					FROM ALLOCATION
					GROUP BY CABINID
					HAVING COUNT(CABINID) = (
												SELECT MAX(COUNT(CABINID))
												FROM ALLOCATION
												GROUP BY CABINID
											)
				);
					
				

SELECT A.CABINID, A.EMPLOYEEID, E.EMPLOYEENAME, A.NOOFDAYS
FROM ALLOCATION A
INNER JOIN
EMPLOYEE E
ON E.EMPLOYEEID = A.EMPLOYEEID
WHERE A.ALLOCATORID
IN (
		SELECT ALLOCATORID
		FROM ALLOCATION
		GROUP BY ALLOCATORID
		HAVING COUNT(ALLOCATORID) > 2
	);


SELECT A1.ALLOCATORID, Al.ALLOCATORNAME
FROM ALLOCATION A1
INNER JOIN
ALLOCATION A2
ON A1.EMPLOYEEID = A2.EMPLOYEEID
INNER JOIN
ALLOCATOR Al
ON
Al.ALLOCATORID = A1.ALLOCATORID
WHERE A1.ALLOCATORID <> A2.ALLOCATORID
;


SELECT a.CabinId, a.AllocationId, a.EmployeeId, a.AllocatorId
FROM Allocation a 
WHERE EXISTS(
				SELECT 1,2,3 FROM Allocation aa 
				WHERE a.CabinId=aa.CabinId
				AND a.AllocatorId=aa.AllocatorId 
				AND a.EmployeeId<>aa.EmployeeId
			);
